<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>7&nbsp; Escritura de scripts y trabajo con datos – Workshop</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./8Organizacionproyecto.html" rel="next">
<link href="./6Redireccion.html" rel="prev">
<link href="./rsgMexico.jpeg" rel="icon" type="image/jpeg">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-b53751a350365c71b6c909e95f209ed1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b4769d4efdca78c57d6efa02c7377920.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-b8fe0e0e59d85b1c54ceb4dd9ede1a89.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./4IntroduccionnavigationShell.html"><strong>Sección 2</strong> - Introducción a línea de comandos</a></li><li class="breadcrumb-item"><a href="./7Buclesscriptsdescarga.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title"><strong>Escritura de scripts y trabajo con datos</strong></span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Workshop</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://iscb-rsg-mexico.github.io/Taller_Metagenomica/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-git"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=|url|">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Información general</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Sección 1</strong> - Organización de proyectos metagenómicos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1Ordendedatos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Organización de proyectos metagenómicos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2Planificaciondeproyectos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Planificación de proyectos</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3DatosdeNCBI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Examinando datos del NCBI</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Sección 2</strong> - Introducción a línea de comandos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4IntroduccionnavigationShell.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Introducción a Shell</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5Operacionesyexploraciondefastq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title"><strong>Trabajar con archivos y directorios</strong></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6Redireccion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Redirección de Entrada y Salida</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7Buclesscriptsdescarga.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title"><strong>Escritura de scripts y trabajo con datos</strong></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8Organizacionproyecto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Organización de proyectos</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Sección 3</strong> - Primeros pasos con R Studio</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9IntroduccionRStudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Introducción a R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10Tiposdedatos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Estructuras de datos en R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11Graficandoconggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Creando gráficos con ggplot2</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Sección 4</strong> - Procesamiento y visualización de datos metagenómicos</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12Iniciandomiproyectometagenomico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Iniciando mi proyecto metagenómico</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./13Controldecalidad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Control de calidad</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./14Filtraciondedatosdesecuenciacion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Filtración de datos de secuenciación</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./15Ensamblemetagenomico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Binning metagenómico</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./16Binningmetagenomico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Asignación taxonómica</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./17Asignaciontaxonomica.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Explorando la diversidad con librerías de R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./18Exploraciondetaxonomiaconr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Análisis de taxonomía con R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./19Exploraciondediversidad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Control de calidad</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20Analisistaxonomico.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Análisis taxonómico con RStudio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./21Otrosrecursos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Otros recursos</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#escribir-y-editar-archivos-con-nano" id="toc-escribir-y-editar-archivos-con-nano" class="nav-link active" data-scroll-target="#escribir-y-editar-archivos-con-nano"><span class="header-section-number">8</span> Escribir y editar archivos con Nano</a>
  <ul>
  <li><a href="#crear-o-abrir-un-archivo" id="toc-crear-o-abrir-un-archivo" class="nav-link" data-scroll-target="#crear-o-abrir-un-archivo"><span class="header-section-number">8.1</span> 1️⃣ Crear o abrir un archivo</a></li>
  <li><a href="#escritura-de-scripts" id="toc-escritura-de-scripts" class="nav-link" data-scroll-target="#escritura-de-scripts"><span class="header-section-number">8.2</span> <strong>Escritura de</strong> scripts</a></li>
  <li><a href="#convertir-el-script-en-un-programa-y-comprimir-datos" id="toc-convertir-el-script-en-un-programa-y-comprimir-datos" class="nav-link" data-scroll-target="#convertir-el-script-en-un-programa-y-comprimir-datos"><span class="header-section-number">8.3</span> Convertir el script en un programa y comprimir datos</a>
  <ul class="collapse">
  <li><a href="#ver-permisos-actuales" id="toc-ver-permisos-actuales" class="nav-link" data-scroll-target="#ver-permisos-actuales"><span class="header-section-number">8.3.1</span> 1. Ver permisos actuales</a></li>
  <li><a href="#añadir-permiso-de-ejecución" id="toc-añadir-permiso-de-ejecución" class="nav-link" data-scroll-target="#añadir-permiso-de-ejecución"><span class="header-section-number">8.3.2</span> 2. Añadir permiso de ejecución</a></li>
  <li><a href="#ejecutar-el-script-como-programa" id="toc-ejecutar-el-script-como-programa" class="nav-link" data-scroll-target="#ejecutar-el-script-como-programa"><span class="header-section-number">8.3.3</span> 3. Ejecutar el script como programa</a></li>
  <li><a href="#comprimir-los-archivos-fastq" id="toc-comprimir-los-archivos-fastq" class="nav-link" data-scroll-target="#comprimir-los-archivos-fastq"><span class="header-section-number">8.3.4</span> 4. Comprimir los archivos FASTQ</a></li>
  <li><a href="#tienes-wget-o-curl" id="toc-tienes-wget-o-curl" class="nav-link" data-scroll-target="#tienes-wget-o-curl"><span class="header-section-number">8.4.1</span> 1️⃣ ¿Tienes <code>wget</code> o <code>curl</code>?</a></li>
  <li><a href="#descargar-con-wget" id="toc-descargar-con-wget" class="nav-link" data-scroll-target="#descargar-con-wget"><span class="header-section-number">8.4.2</span> 2️⃣ Descargar con <code>wget</code></a></li>
  <li><a href="#descargar-con-curl" id="toc-descargar-con-curl" class="nav-link" data-scroll-target="#descargar-con-curl"><span class="header-section-number">8.4.3</span> 3️⃣ Descargar con <code>curl</code></a></li>
  <li><a href="#mover-archivos-entre-su-computadora-portátil-y-su-instancia" id="toc-mover-archivos-entre-su-computadora-portátil-y-su-instancia" class="nav-link" data-scroll-target="#mover-archivos-entre-su-computadora-portátil-y-su-instancia"><span class="header-section-number">8.4.4</span> <strong>Mover archivos entre su computadora portátil y su instancia</strong></a></li>
  <li><a href="#descargar-archivos-en-rstudio" id="toc-descargar-archivos-en-rstudio" class="nav-link" data-scroll-target="#descargar-archivos-en-rstudio"><span class="header-section-number">8.4.6</span> <strong>Descargar archivos en RStudio</strong></a></li>
  <li><a href="#subir-archivos-a-aws-desde-rstudio" id="toc-subir-archivos-a-aws-desde-rstudio" class="nav-link" data-scroll-target="#subir-archivos-a-aws-desde-rstudio"><span class="header-section-number">8.4.7</span> <strong>Subir archivos a AWS desde RStudio</strong></a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./4IntroduccionnavigationShell.html"><strong>Sección 2</strong> - Introducción a línea de comandos</a></li><li class="breadcrumb-item"><a href="./7Buclesscriptsdescarga.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title"><strong>Escritura de scripts y trabajo con datos</strong></span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title"><strong>Escritura de scripts y trabajo con datos</strong></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="escribir-y-editar-archivos-con-nano" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Escribir y editar archivos con Nano</h1>
<p>A veces necesitamos crear o modificar archivos de texto directamente en la terminal. Para ello usaremos <strong>Nano</strong>, un editor de texto sencillo.</p>
<hr>
<section id="crear-o-abrir-un-archivo" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="crear-o-abrir-un-archivo"><span class="header-section-number">8.1</span> 1️⃣ Crear o abrir un archivo</h2>
<pre><code>$ cd ~/dc_workshop/data/untrimmed_fastq
$ nano README.txt</code></pre>
<p><img src="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-01.png" class="img-fluid"></p>
<ul>
<li><p><strong>Escribe</strong> tu texto normalmente.</p></li>
<li><p>Para <strong>guardar</strong> pulsa <code>Ctrl + O</code> (WriteOut), luego <code>Enter</code> para aceptar el nombre.</p></li>
<li><p>Para <strong>salir</strong> pulsa <code>Ctrl + X</code>.</p></li>
</ul>
</section>
<section id="escritura-de-scripts" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="escritura-de-scripts"><span class="header-section-number">8.2</span> <strong>Escritura de</strong> scripts</h2>
<p>Una característica realmente poderosa de la línea de comandos es la posibilidad de escribir scripts. Los scripts permiten guardar comandos para ejecutarlos y también combinar varios comandos. Si bien escribir scripts puede requerir una inversión de tiempo adicional al principio, esto puede ahorrarle tiempo al ejecutarlos repetidamente. Los scripts también pueden abordar el desafío de la reproducibilidad: si necesita repetir el análisis, conserva un registro del historial de comandos dentro del script.</p>
<p>Algo que solemos hacer con los resultados de secuenciación es extraer las lecturas incorrectas y guardarlas en un archivo para ver si podemos averiguar qué sucede. Buscaremos lecturas con secuencias largas de N como hicimos antes, pero ahora escribiremos un script para ejecutarlo cada vez que obtengamos nuevas secuencias, en lugar de escribir el código manualmente cada vez.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN <span class="pp">*</span>.fastq <span class="op">&gt;</span> scripted_bad_reads.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>puedes guardar esa línea en un script (<code>bad-reads-script.sh</code>) y luego ejecutarlo siempre con:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> bash bad-reads-script.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>De ese modo sólo escribes una vez el comando y obtienes, en cada ejecución, un archivo <code>scripted_bad_reads.txt</code> con todas las lecturas problemáticas, sin tener que volver a escribirlo a mano.</p>
</section>
<section id="convertir-el-script-en-un-programa-y-comprimir-datos" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="convertir-el-script-en-un-programa-y-comprimir-datos"><span class="header-section-number">8.3</span> Convertir el script en un programa y comprimir datos</h2>
<p>Hemos escrito un script (<code>bad-reads-script.sh</code>) que extrae las lecturas con diez <code>N</code> consecutivas de todos los archivos FASTQ. Cada vez que lo ejecutábamos con <code>bash bad-reads-script.sh</code>, funcionaba, pero aún teníamos que invocar explícitamente Bash.</p>
<p>Para simplificarlo, vamos a:</p>
<ol type="1">
<li><strong>Hacer que el script sea ejecutable</strong><br>
</li>
<li><strong>Ejecutarlo directamente</strong></li>
</ol>
<hr>
<section id="ver-permisos-actuales" class="level3" data-number="8.3.1">
<h3 data-number="8.3.1" class="anchored" data-anchor-id="ver-permisos-actuales"><span class="header-section-number">8.3.1</span> 1. Ver permisos actuales</h3>
<p>Primero comprobamos los permisos del script:</p>
<blockquote class="blockquote">
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">$</span> ls <span class="at">-l</span> bad-reads-script.sh <span class="co"># -rw-rw-r-- 1 dcuser dcuser 42 Oct 25 21:46 bad-reads-script.sh</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</blockquote>
<p>Aquí vemos <code>-rw-rw-r--</code>, lo que significa que <strong>podemos leer y escribir</strong> el archivo, pero <strong>no</strong> ejecutarlo.</p>
</section>
<section id="añadir-permiso-de-ejecución" class="level3" data-number="8.3.2">
<h3 data-number="8.3.2" class="anchored" data-anchor-id="añadir-permiso-de-ejecución"><span class="header-section-number">8.3.2</span> 2. Añadir permiso de ejecución</h3>
<p>Usamos <code>chmod +x</code> para que el sistema sepa que nuestro script es un programa:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> chmod +x bad-reads-script.sh</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span> bad-reads-script.sh</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># -rwxrwxr-x 1 dcuser dcuser   42 Oct 25 21:46 bad-reads-script.sh</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Ahora aparece <code>x</code> en los permisos (<code>-rwxrwxr-x</code>), indicando que podemos <strong>ejecutarlo</strong>.</p>
</section>
<section id="ejecutar-el-script-como-programa" class="level3" data-number="8.3.3">
<h3 data-number="8.3.3" class="anchored" data-anchor-id="ejecutar-el-script-como-programa"><span class="header-section-number">8.3.3</span> 3. Ejecutar el script como programa</h3>
<p>Ya no necesitamos escribir <code>bash</code> cada vez. Simplemente:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./bad-reads-script.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>El script corre de la misma forma, generando el archivo <code>scripted_bad_reads.txt</code> con todas las lecturas “malas”.</p>
</section>
<section id="comprimir-los-archivos-fastq" class="level3" data-number="8.3.4">
<h3 data-number="8.3.4" class="anchored"><span class="header-section-number">8.3.4</span> 4. Comprimir los archivos FASTQ</h3>
<p>Cuando terminemos de analizarlos, es buena práctica comprimirlos para liberar espacio:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> gzip ~/dc_workshop/data/untrimmed_fastq/<span class="pp">*</span>.fastq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Confirmamos que ahora solo hay archivos <code>.fastq.gz</code> y su tamaño reducido:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-lh</span> ~/dc_workshop/data/untrimmed_fastq/<span class="pp">*</span>.fastq.gz</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># total 428M</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># -rw-r--r-- 1 dcuser dcuser  24M Nov 26 12:36 JC1A_R1.fastq.gz</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># -rw-r--r-- 1 dcuser dcuser  24M Nov 26 12:37 JC1A_R2.fastq.gz</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># -rw-r--r-- 1 dcuser dcuser 179M Nov 26 12:44 JP4D_R1.fastq.gz</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># -rw-r--r-- 1 dcuser dcuser 203M Nov 26 12:51 JP4D_R2.fastq.gz</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Tenemos un <strong>programa propio</strong> (<code>bad-reads-script.sh</code>) que ejecutamos con <code>./bad-reads-script.sh</code>.</p></li>
<li><p>Mantenemos nuestro directorio de datos limpio y ligero, dejando los FASTQ comprimidos cuando no los usamos.</p>
<h2 id="mover-y-descargar-datos-en-la-línea-de-comandos" data-number="8.4" class="anchored" data-anchor-id="comprimir-los-archivos-fastq"><span class="header-section-number">8.4</span> Mover y descargar datos en la línea de comandos</h2></li>
</ul>
<p>En lugar de trabajar solo con datos preinstalados en el servidor, normalmente tendrás que traer nuevos archivos desde Internet o desde tu máquina local.</p>
<hr>
</section>
<section id="tienes-wget-o-curl" class="level3" data-number="8.4.1">
<h3 data-number="8.4.1" class="anchored" data-anchor-id="tienes-wget-o-curl"><span class="header-section-number">8.4.1</span> 1️⃣ ¿Tienes <code>wget</code> o <code>curl</code>?</h3>
<p>Para descargar desde la web, usas <strong>wget</strong> o <strong>curl</strong>. Comprueba cuál está disponible:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> which wget <span class="co"># si está instalado, muestra su ruta </span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> which curl <span class="co"># idem para curl</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Si ves una ruta bajo <code>/usr/bin/…</code>, ese programa está instalado.</p></li>
<li><p>Si no retorna nada, no lo tienes y debes usar el otro.</p></li>
</ul>
</section>
<section id="descargar-con-wget" class="level3" data-number="8.4.2">
<h3 data-number="8.4.2" class="anchored" data-anchor-id="descargar-con-wget"><span class="header-section-number">8.4.2</span> 2️⃣ Descargar con <code>wget</code></h3>
<p><code>wget</code> descarga por defecto al archivo con el mismo nombre:</p>
<pre><code>$ cd ~
wget ftp://ftp.ensemblgenomes.org/pub/release-37/bacteria/species_EnsemblBacteria.txt</code></pre>
<p>Sin flags adicionales, guarda <code>species_EnsemblBacteria.txt</code> en tu directorio actual.</p>
</section>
<section id="descargar-con-curl" class="level3" data-number="8.4.3">
<h3 data-number="8.4.3" class="anchored" data-anchor-id="descargar-con-curl"><span class="header-section-number">8.4.3</span> 3️⃣ Descargar con <code>curl</code></h3>
<p>Para <code>curl</code> necesitas la opción <code>-O</code> para grabar en disco:</p>
<pre><code>$ cd ~
curl -O ftp://ftp.ensemblgenomes.org/pub/release-37/bacteria/species_EnsemblBacteria.txt</code></pre>
<ul>
<li><p><code>-O</code> (“remote <strong>O</strong>utput”) descarga y usa el mismo nombre de archivo que en el servidor.</p></li>
<li><p>Es importante tener en cuenta que tanto <code>curl</code> como <code>wget</code>se descargan en el equipo al que pertenece la línea de comandos. Por lo tanto, si inicia sesión en AWS desde la línea de comandos y ejecuta el <code>curl</code>comando anterior en la terminal de AWS, el archivo se descargará en su equipo de AWS, no en el local.</p></li>
</ul>
</section>
<section id="mover-archivos-entre-su-computadora-portátil-y-su-instancia" class="level3" data-number="8.4.4">
<h3 data-number="8.4.4" class="anchored" data-anchor-id="mover-archivos-entre-su-computadora-portátil-y-su-instancia"><span class="header-section-number">8.4.4</span> <strong>Mover archivos entre su computadora portátil y su instancia</strong></h3>
<p>¿Qué sucede si los datos que necesita están en su computadora local, pero necesita transferirlos <em>a</em> la nube? Hay varias maneras de hacerlo. Al seguir esta lección, puede que esté usando la interfaz de RStudio con una terminal, otra terminal o su propia computadora local. Dependiendo de su configuración, existen varias alternativas para transferir los archivos. Aquí describimos cómo usar la interfaz de RStudio para transferir archivos.</p>
<blockquote class="blockquote">
<h3 id="escenarios-de-transferencia-de-archivos" data-number="8.4.5" class="anchored"><span class="header-section-number">8.4.5</span> <strong>Escenarios de transferencia de archivos</strong></h3>
<ol type="1">
<li><p>Si trabajas en tu ordenador <strong>local</strong> , no necesitas transferir archivos, ya que los tienes localmente.<br>
En ese caso, solo necesitas saber el directorio en el que trabajas.</p></li>
<li><p>Si trabaja en una máquina remota, como una instancia de AWS, puede usar el <code>scp</code>comando. En ese caso, <em>siempre</em> es más fácil iniciar la transferencia localmente. <strong>Si escribe en una terminal, esta no debería estar conectada a su instancia. Debería mostrar su computadora local. Si usa un programa de transferencia, debe instalarlo en su máquina local, no en su instancia.</strong></p></li>
<li><p>Si está utilizando el <strong>servidor RStudio</strong> desde la instancia de AWS, puede transferir archivos entre su máquina local y su máquina remota utilizando la interfaz gráfica de RStudio.</p></li>
</ol>
</blockquote>
</section>
<section id="descargar-archivos-en-rstudio" class="level3" data-number="8.4.6">
<h3 data-number="8.4.6" class="anchored" data-anchor-id="descargar-archivos-en-rstudio"><span class="header-section-number">8.4.6</span> <strong>Descargar archivos en RStudio</strong></h3>
<p>Seguiremos los siguientes cinco pasos para descargar archivos con la interfaz RStudio.</p>
<ol type="1">
<li><p>Primero seleccionamos el archivo a descargar desde el panel inferior derecho.<br>
<a href="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-03.png"><img src="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-03.png" class="img-fluid" alt="Panel inferior derecho donde se muestra el menú de archivos. Se selecciona el archivo a descargar."></a></p></li>
<li><p>Luego, elegimos “Más” para mostrar más acciones para el archivo seleccionado.<br>
<a href="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-04.png"><br>
<img src="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-04.png" class="img-fluid" alt="More button highlighted."></a></p></li>
<li><p>Within the “More” menu, the “export” button should become available.<br>
<a href="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-05.png"><img src="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-05.png" class="img-fluid" alt="Export button highlighted."></a></p></li>
<li><p>Una ventana emergente debería aparecer en tu pantalla donde podrás seleccionar la opción “Descargar”.<br>
<a href="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-06.png"><img src="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-06.png" class="img-fluid" alt="emergent window where you write the name of the file and click download."></a></p></li>
<li><p>Tu archivo ahora debería estar descargado en tu computadora local.</p></li>
</ol>
</section>
<section id="subir-archivos-a-aws-desde-rstudio" class="level3" data-number="8.4.7">
<h3 data-number="8.4.7" class="anchored" data-anchor-id="subir-archivos-a-aws-desde-rstudio"><span class="header-section-number">8.4.7</span> <strong>Subir archivos a AWS desde RStudio</strong></h3>
<p>Ahora que aprendimos cómo descargar archivos desde la interfaz de RStudio, aprenderemos la acción opuesta: <strong>subir archivos desde tu computadora local a tu máquina remota en AWS</strong>.</p>
<ol type="1">
<li>Selecciona la opción <strong>“Upload” (Subir)</strong> en la interfaz de RStudio.</li>
</ol>
<!-- -->
<ol type="1">
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-08.png"><img src="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-08.png" class="img-fluid figure-img" alt="The Upload button is highlighted."></a></p>
<figcaption>The Upload button is highlighted.</figcaption>
</figure>
</div></li>
<li><p>Después de que aparezca una ventana emergente en tu pantalla, selecciona la opción <strong>“Select file” (Seleccionar archivo)</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-09.png" class="img-fluid figure-img" width="1199"></p>
<figcaption>Select filed button highlighted in the emergent window</figcaption>
</figure>
</div></li>
<li><p>Aparecerá una nueva ventana en tu computadora donde deberás elegir el archivo que deseas subir. Selecciona el archivo y haz clic en <strong>“Abrir”</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-10.png"><img src="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-10.png" class="img-fluid figure-img" alt="file to upload and open button are highlighted in the window of the local filesystem"></a></p>
<figcaption>file to upload and open button are highlighted in the window of the local filesystem</figcaption>
</figure>
</div></li>
<li><p>Finalmente, si el archivo es correcto, haz clic en <strong>“Aceptar”</strong> y comenzará la carga.</p>
<p>Ahora podrás ver el nuevo archivo en tu interfaz de RStudio.<a href="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-12.png"><img src="https://carpentries-lab.github.io/metagenomics-shell/fig/02-05-12.png" class="img-fluid" alt="The uploaded file is shown in the R studio interface"></a></p></li>
</ol>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./6Redireccion.html" class="pagination-link" aria-label="Redirección de Entrada y Salida">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Redirección de Entrada y Salida</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./8Organizacionproyecto.html" class="pagination-link" aria-label="Organización de proyectos">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Organización de proyectos</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>